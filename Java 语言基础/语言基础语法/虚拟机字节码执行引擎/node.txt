IA32 的程序中使用栈幀数据结构来支持过程调用（java 语言中称作方法），每个过程对应一个栈贞，过程的调用对应与栈贞的入栈和出栈。某个时刻，只有位于栈顶的栈贞可用，最顶端的栈贞用两个指贞界定，栈指针，贞指针。他们的地址分别存储在寄存器 %exp 和 %esp 中。栈中的大致结构如下：

图片

下面我们通过一段 c 代码详细来看看对应的汇编代码是如何体现过程的调用的：

#include<stdio.h>
void sayHello(int age)
{
    int x = 32;
    int y = 2323;
    age = x + y;
}

void main()
{
    int age = 22;
    sayHello(age);
}

接着我们使用命令 gcc -ocode -S -m32 code.c 生成相应的汇编代码：

图片

首先将寄存器 %ebp 中的地址压栈，主要用于当前栈贞退出时对调用者状态的恢复。


